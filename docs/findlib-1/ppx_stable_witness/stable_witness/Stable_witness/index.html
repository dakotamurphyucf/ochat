<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stable_witness (docs.findlib-1.ppx_stable_witness.stable_witness.Stable_witness)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../../';
let search_urls = ['../../../../db.js','../../../../sherlodoc.js'];
</script><script src="../../../../odoc.support/odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../index.html">Index</a> &#x00BB; <a href="../../../../index.html">docs</a> &#x00BB; <a href="../../../index.html">findlib-1</a> &#x00BB; <a href="../../index.html">ppx_stable_witness</a> &#x00BB; <a href="../index.html">stable_witness</a> &#x00BB; Stable_witness</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="ðŸ”Ž Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>Stable_witness</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Export"><a href="#module-Export" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Export/index.html">Export</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Stable witnesses for primitive types exported by <code>Core.Core_stable</code>. Code using <code>ppx_stable_witness</code> is expected to start with <code>open Stable_witness.Export</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_serializable"><a href="#val-of_serializable" class="anchor"></a><code><span><span class="keyword">val</span> of_serializable : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>This is useful to provide a stable witness on a type that uses another type for serialization.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-T1"><a href="#module-type-T1" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-T1/index.html">T1</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Of_serializable1"><a href="#module-Of_serializable1" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Of_serializable1/index.html">Of_serializable1</a></span><span> (<a href="Of_serializable1/argument-1-Stable_format/index.html">Stable_format</a> : <a href="module-type-T1/index.html">T1</a>) (<a href="Of_serializable1/argument-2-M/index.html">M</a> : <a href="module-type-T1/index.html">T1</a>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-T2"><a href="#module-type-T2" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-T2/index.html">T2</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Of_serializable2"><a href="#module-Of_serializable2" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Of_serializable2/index.html">Of_serializable2</a></span><span> (<a href="Of_serializable2/argument-1-Stable_format/index.html">Stable_format</a> : <a href="module-type-T2/index.html">T2</a>) (<a href="Of_serializable2/argument-2-M/index.html">M</a> : <a href="module-type-T2/index.html">T2</a>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Of_serializable3"><a href="#module-Of_serializable3" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Of_serializable3/index.html">Of_serializable3</a></span><span>
  (<a href="Of_serializable3/argument-1-Stable_format/index.html">Stable_format</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>)
  (<a href="Of_serializable3/argument-2-M/index.html">M</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : 
  <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assert_stable"><a href="#val-assert_stable" class="anchor"></a><code><span><span class="keyword">val</span> assert_stable : <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>This is an escape hatch. Don't use it unless you have to.</p><p>There are two use cases for this:</p><p>1. It allows you to assert that a type that you're writing has stable serialization functions, even if the type itself depends on unstable types.</p><p>2. It allows you to assert that a type from some other module is stable (and generate a stable witness for it) even if the type doesn't provide one for itself. It is almost always better to get the upstream code to provide a stability guarantee. At the very least, consult with the upstream maintainer to make sure their serializations are stable over time, and document the discussion.</p></div></div></div></body></html>
