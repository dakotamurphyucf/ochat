<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Iteration (docs.findlib-1.base.Base.Queue.Iteration)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../../../';
let search_urls = ['../../../../../db.js','../../../../../sherlodoc.js'];
</script><script src="../../../../../odoc.support/odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../../index.html">Index</a> &#x00BB; <a href="../../../../../index.html">docs</a> &#x00BB; <a href="../../../../index.html">findlib-1</a> &#x00BB; <a href="../../../index.html">base</a> &#x00BB; <a href="../../index.html">Base</a> &#x00BB; <a href="../index.html">Queue</a> &#x00BB; Iteration</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="ðŸ”Ž Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>Queue.Iteration</span></code></h1><p>Use <code>Iteration</code> to implement iteration functions that guard against mutation.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type subst anchored" id="type-queue"><a href="#type-queue" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a queue</span></span><span> := <span><span class="type-var">'a</span> <a href="../index.html#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A token representing state from the beginning of an iteration.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-start"><a href="#val-start" class="anchor"></a><code><span><span class="keyword">val</span> start : <span><span><span class="type-var">_</span> <a href="#type-queue">queue</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Capture state at the start of iteration.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assert_no_mutation_since_start"><a href="#val-assert_no_mutation_since_start" class="anchor"></a><code><span><span class="keyword">val</span> assert_no_mutation_since_start : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">_</span> <a href="#type-queue">queue</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>assert_no_mutation_since_start t queue</code> raises if any mutation has happened to <code>queue</code> since <code>t</code> was created by <code>start queue</code>. Results are unspecified if you call <code>assert_no_mutation_since_start</code> with a different queue from the one passed to <code>start</code>.</p><p>Call <code>assert_no_mutation_since_start</code> after each step of an iteration loop, before checking if the queue is empty or advancing to the next element. This ensures these read operations are consistent with the queue's state at the start of iteration.</p></div></div></div></body></html>
