<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ASYNCHRONOUS (docs.findlib-1.markup.Markup.ASYNCHRONOUS)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../../';
let search_urls = ['../../../../db.js','../../../../sherlodoc.js'];
</script><script src="../../../../odoc.support/odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../index.html">Index</a> &#x00BB; <a href="../../../../index.html">docs</a> &#x00BB; <a href="../../../index.html">findlib-1</a> &#x00BB; <a href="../../index.html">markup</a> &#x00BB; <a href="../index.html">Markup</a> &#x00BB; ASYNCHRONOUS</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="ðŸ”Ž Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module type <code><span>Markup.ASYNCHRONOUS</span></code></h1><p>Markup.ml interface for monadic I/O libraries such as Lwt and Async.</p><p>This signature is implemented by <code>Markup_lwt</code>, with a few additions.</p><p>Each function here corresponds directly to the function in the basic module <a href="../index.html"><code>Markup</code></a> that has the same name. So, see <a href="../index.html"><code>Markup</code></a> for details.</p><p>The only difference is that functions here, all of which are higher-order functions, take a function as argument that returns an <code>'a io</code> promise, rather than returning an already-computed value.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#promises">Promises</a></li><li><a href="#encodings">Encodings</a></li><li><a href="#xml">XML</a></li><li><a href="#html">HTML</a></li><li><a href="#i/o">I/O</a></li><li><a href="#stream-manipulation">Stream manipulation</a></li><li><a href="#utility">Utility</a></li></ul></nav></div><div class="odoc-content"><h3 id="promises"><a href="#promises" class="anchor"></a>Promises</h3><div class="odoc-spec"><div class="spec type anchored" id="type-io"><a href="#type-io" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a io</span></span></code></div><div class="spec-doc"><p>Promise type. Replaced by <code>'a Lwt.t</code> in <code>Markup_lwt</code>.</p></div></div><h3 id="encodings"><a href="#encodings" class="anchor"></a>Encodings</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Encoding"><a href="#module-Encoding" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Encoding/index.html">Encoding</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Asynchronous counterpart to <a href="../Encoding/index.html"><code>Markup.Encoding</code></a>.</p></div></div><h3 id="xml"><a href="#xml" class="anchor"></a>XML</h3><div class="odoc-spec"><div class="spec value anchored" id="val-parse_xml"><a href="#val-parse_xml" class="anchor"></a><code><span><span class="keyword">val</span> parse_xml : 
  <span><span class="optlabel">?report</span>:<span>(<span><a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Error/index.html#type-t">Error.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?encoding</span>:<span class="xref-unresolved">Encoding.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?namespace</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?entity</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?context</span>:<span>[&lt; `Document <span>| `Fragment</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(char, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-async">async</a> <a href="../index.html#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_xml"><a href="#val-write_xml" class="anchor"></a><code><span><span class="keyword">val</span> write_xml : 
  <span><span class="optlabel">?report</span>:<span>(<span><span>(<a href="../index.html#type-signal">signal</a> * int)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Error/index.html#type-t">Error.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?prefix</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span>[&lt; <a href="../index.html#type-signal">signal</a> ]</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(char, <a href="../index.html#type-async">async</a>)</span> <a href="../index.html#type-stream">stream</a></span></span></code></div></div><h3 id="html"><a href="#html" class="anchor"></a>HTML</h3><div class="odoc-spec"><div class="spec value anchored" id="val-parse_html"><a href="#val-parse_html" class="anchor"></a><code><span><span class="keyword">val</span> parse_html : 
  <span><span class="optlabel">?report</span>:<span>(<span><a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Error/index.html#type-t">Error.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?encoding</span>:<span class="xref-unresolved">Encoding.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?context</span>:<span>[&lt; `Document <span><span>| `Fragment</span> of string</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(char, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-async">async</a> <a href="../index.html#type-parser">parser</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_html"><a href="#val-write_html" class="anchor"></a><code><span><span class="keyword">val</span> write_html : 
  <span><span class="optlabel">?escape_attribute</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?escape_text</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span>[&lt; <a href="../index.html#type-signal">signal</a> ]</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(char, <a href="../index.html#type-async">async</a>)</span> <a href="../index.html#type-stream">stream</a></span></span></code></div></div><h3 id="i/o"><a href="#i/o" class="anchor"></a>I/O</h3><div class="odoc-spec"><div class="spec value anchored" id="val-fn"><a href="#val-fn" class="anchor"></a><code><span><span class="keyword">val</span> fn : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>char option</span> <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(char, <a href="../index.html#type-async">async</a>)</span> <a href="../index.html#type-stream">stream</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><span><span>(char, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="#type-io">io</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_buffer"><a href="#val-to_buffer" class="anchor"></a><code><span><span class="keyword">val</span> to_buffer : <span><span><span>(char, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../stdlib/Stdlib/Buffer/index.html#type-t">Buffer.t</a> <a href="#type-io">io</a></span></span></code></div></div><h3 id="stream-manipulation"><a href="#stream-manipulation" class="anchor"></a>Stream manipulation</h3><div class="odoc-spec"><div class="spec value anchored" id="val-stream"><a href="#val-stream" class="anchor"></a><code><span><span class="keyword">val</span> stream : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <a href="../index.html#type-async">async</a>)</span> <a href="../index.html#type-stream">stream</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next"><a href="#val-next" class="anchor"></a><code><span><span class="keyword">val</span> next : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="#type-io">io</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-peek"><a href="#val-peek" class="anchor"></a><code><span><span class="keyword">val</span> peek : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="#type-io">io</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-transform"><a href="#val-transform" class="anchor"></a><code><span><span class="keyword">val</span> transform : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'c</span> list</span> * <span><span class="type-var">'a</span> option</span>)</span> <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'c</span>, <a href="../index.html#type-async">async</a>)</span> <a href="../index.html#type-stream">stream</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-io">io</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <a href="../index.html#type-async">async</a>)</span> <a href="../index.html#type-stream">stream</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <a href="../index.html#type-async">async</a>)</span> <a href="../index.html#type-stream">stream</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span><span class="keyword">val</span> filter_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <a href="../index.html#type-async">async</a>)</span> <a href="../index.html#type-stream">stream</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-io">io</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-io">io</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-drain"><a href="#val-drain" class="anchor"></a><code><span><span class="keyword">val</span> drain : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-io">io</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span><span class="keyword">val</span> to_list : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-io">io</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <a href="../index.html#type-sync">sync</a>)</span> <a href="../index.html#type-stream">stream</a></span> <a href="#type-io">io</a></span></span></code></div><div class="spec-doc"><p><code>load s</code> converts a general stream <code>s</code> to a synchronous stream by buffering it.</p></div></div><h3 id="utility"><a href="#utility" class="anchor"></a>Utility</h3><div class="odoc-spec"><div class="spec value anchored" id="val-tree"><a href="#val-tree" class="anchor"></a><code><span><span class="keyword">val</span> tree : 
  <span><span class="optlabel">?text</span>:<span>(<span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?element</span>:<span>(<span><a href="../index.html#type-name">name</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../index.html#type-name">name</a> * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?comment</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?pi</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?xml</span>:<span>(<span><a href="../index.html#type-xml_declaration">xml_declaration</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?doctype</span>:<span>(<span><a href="../index.html#type-doctype">doctype</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span>[&lt; <a href="../index.html#type-signal">signal</a> ]</span>, <span class="type-var">_</span>)</span> <a href="../index.html#type-stream">stream</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> option</span> <a href="#type-io">io</a></span></span></code></div></div></div></body></html>
